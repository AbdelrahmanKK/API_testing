# version: '2.1'
# jobs:
#   build:
#     docker:
#       - image: circleci/node:14
#     steps:
#       - checkout
#       - run:
#           name: Install npm dependencies
#           command: |
#             npm install --save
#       - run:
#           name: Run Server
#           command: |
#             npm run dev 
#           background: true
#       - run:
#           name: Wait for Server
#           command: sleep 5
#       - run:
#           name: Run Tests
#           command: |
#             npm run test   
            
                 
# workflows:
#   test:
#     jobs:
#         - build


version: '2.1'
orbs: 
  node: circleci/node@4.7 
  browser-tools: circleci/browser-tools@1.4.6


jobs:
  test: 
    docker: 
      - image: cimg/node:lts-browsers 
    steps: 
      - checkout 
      - browser-tools/install-browser-tools 
      - node/install-packages 
      - run:
          command: |
            npm run test:nightwatch 
      - store_test_results:
          path: tests-results
                    



workflows:
  e2e-test:
    jobs:
        - test